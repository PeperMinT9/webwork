<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Jua&family=Lobster&family=Nanum+Pen+Script&family=Single+Day&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>Document</title>
    <script>
        let r
        window.onload = function() {
            r = document.getElementById("result")
            init_setting()
            

            document.getElementById("btnresult").onclick = function() {
                
                let hobby = document.getElementsByName("hobby");
                let result = ""
                for(let h of hobby) {
                    if(h.checked) {
                        result += h.value + "&nbsp;";
                    }
                }
                if(result == "") {
                    r.innerText = "저는 취미가 없습니다"
                }
                else {
                    r.innerHTML = `저의 취미는 ${result} 입니다`;
                }

                // 글자색 적용
                let tcolor = document.getElementById("fontcolor").value
                r.style.color = tcolor
                // 배경색
                let bcolor = document.getElementById("backcolor").value
                r.style.backgroundColor = bcolor
                // 글꼴
                let font = document.getElementById("selfont").value
                r.style.fontFamily = font
                // 로컬스토리지에 폰트속성 저장하기
                localStorage.fontcolor = tcolor
                localStorage.backcolor = bcolor
                localStorage.font = font
            }
        }

        function init_setting() {
            let tcolor = localStorage.fontcolor
            let bcolor = localStorage.backcolor
            let font = localStorage.font
            if(tcolor != null) {
                r.style.color = tcolor
                document.getElementById("fontcolor").value = tcolor
            }
            if(bcolor != null) {
                r.style.backgroundColor = bcolor
                document.getElementById("backcolor").value = bcolor
            }
            if(font != null) {
                r.style.fontFamily = font
                document.getElementById("selfont").value = font
            }
        }
    </script>
</head>
<body>
    <h2 class="alert alert-danger">폰트 환경설정 스토리지에 저장하기</h2>
    <img class="rounded-circle" src="../photo/00.jpg" width="100">
    <img class="img-thumbnail" src="../photo/01.jpg" width="100">

    <table class="table table-bordered" style="width: 500px">
        <caption><b>폰트 설정</b></caption>
        <tr>
            <th abbr="100" style="background-color: lightgray;">글자색</th>
            <td>
                <input type="color" id="fontcolor">
            </td>
        </tr>
        <tr>
            <th width="100" bgcolor="lightgray">배경색</th>
            <td><input type="color" id="backcolor" value="#ffffff"></td>
        </tr>
        <tr>
            <th width="100" style="background-color: lightgray;">글꼴</th>
            <td>
                <select id="selfont" class="form-select" aria-label="Default select example">
                    <option>Jua</option>
                    <option>Gamja Flower</option>
                    <option>Nanum Pen Script</option>
                    <option>Single Day</option>
            </td>
        </tr>
        <tr>
            <th width="100" style="background-color: lightgray;">취미</th>
            <td>
                <label><input type="checkbox" name="hobby" value="게임" style="width: 80px">게임</label>
                <label><input type="checkbox" name="hobby" value="여행" style="width: 80px">여행</label>
                <label><input type="checkbox" name="hobby" value="영화감상" style="width: 80px">영화감상</label>
                <label><input type="checkbox" name="hobby" value="낚시" style="width: 80px">낚시</label>
            </td>

        </tr>
        <tr>
            <td colspan="2" align="center">
                <button class="btn btn-success" type="button" id="btnresult">적응하기</button>
            </td>
        </tr>
        <tr height="70" valign="">
            <td colspan="2" align="center">
                <div id="result">결과 나오는곳</div>
            </td>
        </tr>
    </table>
</body>
</html>